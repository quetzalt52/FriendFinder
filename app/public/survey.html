<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Survey</title>

	<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

</head>
<body>
	<div class="container">
		
		<div class="jumbotron">
			<h1 class="text-center"><span class="glyphicon glyphicon-heart"></span>  Survey Questions </h1>
		</div>
		
		<h3><strong>About You</strong></h3>
		<h4>Name (Required)</h4>
		<input type="text" name="" id="name" class="form-control" required >

		<h4>Link to Photo Image (Required)</h4>
		<input type="file" name="" id="photo" class="form-control" required >
    <br>
    
		<hr>
		<h3><strong>Question 1</strong></h3>
		<h4>What age do you prefer to hang with</h4>
	 	<select data-placeholder="" class="chosen-select" id="q1">
	 		<option value=""></option>
            <option value="1">1 Doesn't matter(Strongly Disagree)</option>
            <option value="2">2 younger</option>
            <option value="3">3 older </option>
            <option value="4">4 same age and younger</option>
            <option value="5">5 same age only(Strongly Agree)</option>
      	</select>

      	<h3><strong>Question 2</strong></h3>
		<h4>What hair color do you like on others?</h4>
	 	<select data-placeholder="" class="chosen-select" id="q2">
	 		<option value=""></option>
            <option value="1">1 Doesn't matter (Strongly Disagree)</option>
            <option value="2">2 blonde</option>
            <option value="3">3 brown</option>
            <option value="4">4 red</option>
            <option value="5">5 black(Strongly Agree)</option>
      	</select>
		
		<h3><strong>Question 3</strong></h3>
		<h4>The best thing you have going is:</h4>
	 	<select data-placeholder="" class="chosen-select" id="q3">
	 		<option value=""></option>
            <option value="1">1 super looks(Strongly Disagree)</option>
            <option value="2">2 incredible intelligence</option>
            <option value="3">3 compassionate caring</option>
            <option value="4">4 exceptional enthusiasm</option>
            <option value="5">5 amazing honesty(Strongly Agree)</option>
      	</select>

      	<h3><strong>Question 4</strong></h3>
		<h4>What do you look for first in others?</h4>
	 	<select data-placeholder="" class="chosen-select" id="q4">
	 		<option value=""></option>
            <option value="1">1 Doesn't not matter(Strongly Disagree)</option>
            <option value="2">2 looks</option>
            <option value="3">3 honesty</option>
            <option value="4">4 intelligence</option>
            <option value="5">5 sense of humor(Strongly Agree)</option>
      	</select>
		
		<h3><strong>Question 5</strong></h3>
		<h4>When you want to meet someone do you ?</h4>
	 	<select data-placeholder="" class="chosen-select" id="q5">
	 		<option value=""></option>
            <option value="1">1 say hello in person (Strongly Disagree)</option>
            <option value="2">2 call them on the phone</option>
            <option value="3">3 send email</option>
            <option value="4">4 join a Meetup </option>
            <option value="5">5 send a text message(Strongly Agree)</option>
      	</select>

		<h3><strong>Question 6</strong></h3>
		<h4>The most over used saying is:</h4>
	 	<select data-placeholder="" class="chosen-select" id="q6">
	 		<option value=""></option>
            <option value="1">1 Whatever (Strongly Disagree)</option>
            <option value="2">2 cool</option>
            <option value="3">3 sweet</option>
            <option value="4">4 dude</option>
            <option value="5">5 cool (Strongly Agree)</option>
      	</select>
     	
		<h3><strong>Question 7</strong></h3>
		<h4>The best way for someone to notice you is:</h4>
	 	<select data-placeholder="" class="chosen-select" id="q7">
	 		<option value=""></option>
            <option value="1">1 do the worm in the hall (Strongly Disagree)</option>
            <option value="2">2 smile and wink</option>
            <option value="3">3 Have approachable body language</option>
            <option value="4">4 introduce yourself</option>
            <option value="5">5 have a friend introduce you(Strongly Agree)</option>
      	</select>

		<h3><strong>Question 8</strong></h3>
		<h4>The most boring sport to watch is:</h4>
	 	<select data-placeholder="" class="chosen-select" id="q8">
	 		<option value=""></option>
            <option value="1">1 golf (Strongly Disagree)</option>
            <option value="2">2 baseball</option>
            <option value="3">3 darts</option>
            <option value="4">4 bowling</option>
            <option value="5">5 tennis(Strongly Agree)</option>
      	</select>

      	<h3><strong>Question 9</strong></h3>
		<h4>If you're meeting your friends at a specific time:</h4>
	 	<select data-placeholder="" class="chosen-select" id="q9">
	 		<option value=""></option>
            <option value="1">1 Flake out(Strongly Disagree)</option>
            <option value="2">2 they're gone when you get there</option>
            <option value="3">3 you're always last</option>
            <option value="4">4 you're always the first one there</option>
            <option value="5">5 you arrive on time(Strongly Agree)</option>
      	</select>

      	<h3><strong>Question 10</strong></h3>
		<h4>When you have to make a tough decision you:</h4>
	 	<select data-placeholder="" class="chosen-select" id="q10">
	 		<option value=""></option>
            <option value="1">1 do nothing and hope it solves itself(Strongly Disagree)</option>
            <option value="2">2 run and hide</option>
            <option value="3">3 check with mom or dad</option>
            <option value="4">4 ask your friends to see what they think</option>
            <option value="5">5 pick one and hope you were right(Strongly Agree)</option>
      	</select>
      	<br>
		<br>
      	<!-- Submit Button -->
		<button type="submit" class="btn btn-danger btn-lg btn-block" id="submit"> Submit</button>

		<hr>
		<br>
		<br>
	    <footer class="footer">
	      <div class="container">
		        <p><a href="/api/friends">API Friends List</a> | <a href="https://github.com/quetzalt52/FriendFinder">GitHub Repo</a></p>
	      </div>
	    </footer>
	</div> <!-- end of container -->

      <!-- Materialize Modal Structure -->
        <div id="modal1" class="modal">
          <div class="modal-content">
            <h4>Meet Your New BFF</h4>
            <h5 id="matchName"></h5>
            <img id="matchPic" src="" alt="No Image" width = 250px>
          </div>
        <div class="modal-footer">
          <a href="#!" class=" modal-action modal-close waves-effect waves-green btn-flat">Done</a>
        </div>
      </div>

    </div>

<!-- Grabs information and sends it to server -->
      <script type="text/javascript">
      $(document).ready(function() {
      $("#submit").on("click", function() {

      function validateForm() {
        var isValid = true;
        $('.form-control').each(function() {
          if ( $(this).val() === '' )
              isValid = false;
        });

        $('.chosen-select').each(function() {

            if( $(this).val() === "")
                  isValid = false
        })
        return isValid;
      }

      //if everything is filled
      if (validateForm() == true)
      {
      //creates a new friend object from the values submitted
        var newFriend = {
             name: $('#name').val().trim(),
             profilePicture: $('#photo').val().trim(),
             scores: [
               $('#q1').val(),
               $('#q2').val(),
               $('#q3').val(),
               $('#q4').val(),
               $('#q5').val(),
               $('#q6').val(),
               $('#q7').val(),
               $('#q8').val(),
               $('#q9').val(),
               $('#q10').val(),
              ]
      };
      //Grabs current URL of website
      var currentURL = window.location.origin;
      //AJAX posts the data to friends API.
      $.post(currentURL + "/api/friends", newFriend, function(data) {
          //Grab the result from the AJAX post so that the best match's name and photo are displayed.
      $("#matchName").text(data.name);
      $("#matchPic").attr("src", data.profilePicture);
      });
      // Show the modal with the best match
            
      } else {
        alert("Please fill out ALL fields before submitting survey!");
      }
      
      return false;
    });
      </script>
  </body>
</html>